<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0">
<title> &#128376; &#128376; &#128376; &#128376; &#128376; </title>
<style type="text/css">
body{
	overflow: hidden;
	font-family: sans-serif;
	font-size: 15px;
	margin: 0;
	padding: 0;
}
#isi{
	border: none;
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;
}
</style>

<iframe id="isi" style="background-color: #0088cc;"></iframe>
<script src="data.js?<?php echo(rand()); ?>"></script>
<script>

var isi = document.querySelector("#isi"), firstLoad = 1;
try{
	let i = parseInt(window.localStorage.getItem('__press_slide__'));
	isi.src = slide[i].p;
	window.localStorage.setItem('__press_slide__', i);
}catch(e){
	isi.src = slide[0].p;
	window.localStorage.setItem('__press_slide__', 0);
}


window.addEventListener('storage', () => {
	let i = parseInt(window.localStorage.getItem('__press_slide__'));
	if(slide[i]){
		if(firstLoad){
			isi.src = slide[i].p;
			firstLoad = 0;
		}else{
			let callback = function(html){
				html = html.trim();
				isi.contentDocument.body.innerHTML = html;
				// isi.srcdoc = html;
				// isi.removeAttribute('src');
			};
			getPage(slide[i].p, callback);
		}
	}
});

var getPage = function(url, callback=()=>{}){
	var request;
	if(window.XMLHttpRequest){
		request=new XMLHttpRequest();
	}else{
		request=new ActiveXObject("Microsoft.XMLHTTP");
	}
	request.onreadystatechange=function(){
		if(request.readyState==4){
			t=request.responseText;
			callback(t);
		}
	};
	request.open("GET",url );
	request.send();
};


// history.pushState({}, "", '.');
// window.resizeTo(840,480);
let ww = 1100;
window.resizeTo(ww, ww/16*9|0);
</script>
